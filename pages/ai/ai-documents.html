<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quản lý Tài liệu AI - HauHub Admin</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="../../css/variables.css">
    <link rel="stylesheet" href="../../css/components.css">
    <link rel="stylesheet" href="../../css/layout.css">
    <link rel="stylesheet" href="../../css/pages/admin.css">
    <link rel="stylesheet" href="./ai-documents.css">
    
    <!-- External Libraries -->
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../../assets/images/favicon.ico">
</head>
<body class="admin-dashboard">
    <div class="dashboard-container">
        <!-- Sidebar Navigation -->
        <aside class="dashboard-sidebar" id="admin-sidebar">
            <div class="sidebar-header">
                <div class="brand-logo">
                    <span class="material-symbols-outlined logo-icon">architecture</span>
                </div>
                <div class="brand-info">
                    <h1 class="brand-name">HauHub</h1>
                    <p class="brand-subtitle">Admin</p>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="../admin/admin-dashboard.html" class="nav-link">
                            <span class="nav-icon material-symbols-outlined">dashboard</span>
                            <span class="nav-text">Dashboard</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="../admin/user-management.html" class="nav-link">
                            <span class="nav-icon material-symbols-outlined">group</span>
                            <span class="nav-text">Người dùng</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="../admin/department-management.html" class="nav-link">
                            <span class="nav-icon material-symbols-outlined">school</span>
                            <span class="nav-text">Đào tạo</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="../admin/forum-management.html" class="nav-link">
                            <span class="nav-icon material-symbols-outlined">forum</span>
                            <span class="nav-text">Diễn đàn</span>
                        </a>
                    </li>
                    <li class="nav-item active">
                        <a href="ai-documents.html" class="nav-link">
                            <span class="nav-icon material-symbols-outlined">smart_toy</span>
                            <span class="nav-text">Tài liệu AI</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="../admin/system-config.html" class="nav-link">
                            <span class="nav-icon material-symbols-outlined">settings</span>
                            <span class="nav-text">Cấu hình</span>
                        </a>
                    </li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <div class="user-profile">
                    <div class="user-avatar">
                        <img src="https://lh3.googleusercontent.com/aida-public/AB6AXuCtmkkJF4tN3dFTJCHA7Bxu1Ic0IRrDB4IBR7WvPZFBZK7zQ3IDRtglLgn95BjUJg2zxPJ4SXgKfgbM4VBr5s42AjUu9BIaedrCoskkTd94vc8PNqx1rc-KKUFFLqXbMVdSX6oYBCoLopANZGPZ0xzszKO6FvhbuvNmq7SGuSmtMAM-vHbuivZVNBb24mXMN7DWtHg4RIf4ExvqFdGjPhm5u7vDy-64-3Y7un7j9s5jeW5oqkl4-zZ6TIucjA8c61W6_K-v10TwUeg" alt="Admin Avatar">
                    </div>
                    <div class="user-info">
                        <p class="user-name">Admin HauHub</p>
                        <p class="user-role">System Overseer</p>
                    </div>
                    <button class="logout-btn">
                        <span class="material-symbols-outlined">logout</span>
                    </button>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="dashboard-main">
            <!-- Top Navigation -->
            <header class="dashboard-header">
                <div class="header-left">
                    <div class="compass-icon">
                        <svg class="compass-svg" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                            <circle class="technical-line" cx="24" cy="24" r="18" stroke="currentColor" stroke-width="1.5"></circle>
                            <path d="M24 8V12M24 36V40M8 24H12M36 24H40" stroke="currentColor" stroke-linecap="round" stroke-width="1.5"></path>
                            <path d="M24 16L20 24L24 32L28 24L24 16Z" fill="currentColor" fill-opacity="0.2" stroke="currentColor" stroke-width="1.5"></path>
                            <circle cx="24" cy="24" fill="currentColor" r="2"></circle>
                        </svg>
                    </div>
                    <div class="header-title">
                        <h2>Quản lý tài liệu AI</h2>
                        <p>Hệ thống xử lý tài liệu học thuật thông minh</p>
                    </div>
                </div>
                
                <div class="header-right">
                    <div class="search-bar">
                        <span class="material-symbols-outlined search-icon">search</span>
                        <input type="text" placeholder="Search architectural documentation..." 
                               class="search-input" id="document-search">
                    </div>
                    
                    <div class="header-actions">
                        <div class="system-status">
                            <div class="status-dot online"></div>
                            <span class="status-text">Node Online</span>
                        </div>
                        <button class="action-btn notification-btn" id="notifications-btn">
                            <span class="material-symbols-outlined">notifications_none</span>
                        </button>
                    </div>
                </div>
            </header>
            
            <!-- Dashboard Content -->
            <div class="dashboard-content">
                <!-- Breadcrumbs -->
                <nav class="breadcrumbs">
                    <a href="admin-dashboard.html" class="breadcrumb-link">Admin</a>
                    <span class="breadcrumb-separator">/</span>
                    <span class="breadcrumb-current">Tài liệu AI</span>
                </nav>
                
                <!-- Page Header -->
                <div class="page-header">
                    <div class="header-content">
                        <h1 class="page-title">QUẢN LÝ TÀI LIỆU AI</h1>
                        <p class="page-subtitle">
                            Kho tài liệu và hệ thống xử lý tri thức cho hệ sinh thái kiến trúc HauHub. 
                            Tải lên tạp chí học thuật, bản vẽ, và bài nghiên cứu để xử lý.
                        </p>
                    </div>
                    <div class="header-actions">
                        <button class="btn-primary" id="upload-document-btn">
                            <span class="material-symbols-outlined">add_box</span>
                            Tải lên tài liệu
                        </button>
                    </div>
                </div>
                
                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <div>
                                <p class="stat-label">Tài liệu</p>
                                <h3 class="stat-value" id="documents-count">1,284</h3>
                            </div>
                            <span class="stat-icon">
                                <span class="material-symbols-outlined">auto_stories</span>
                            </span>
                        </div>
                        <div class="stat-trend success">+12.5%</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-header">
                            <div>
                                <p class="stat-label">Dung lượng</p>
                                <h3 class="stat-value" id="storage-used">4.2 GB</h3>
                            </div>
                            <span class="stat-icon">
                                <span class="material-symbols-outlined">database</span>
                            </span>
                        </div>
                        <div class="stat-trend capacity">84% Capacity</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <div>
                                <p class="stat-label">Trạng thái</p>
                                <h3 class="stat-value" id="processing-status">Processing</h3>
                            </div>
                            <span class="stat-icon">
                                <span class="material-symbols-outlined">settings_slow_motion</span>
                            </span>
                        </div>
                        <div class="stat-trend warning">3 Active</div>
                    </div>
                </div>

                <!-- Document List -->
 <div class="card">
    <div class="card-header-flex">
        <h3>Tài liệu</h3>
    </div>
    
    <!-- Container có scroll -->
    <div class="documents-container">
        <div class="document-item">
            <div class="doc-info">
                <span class="material-symbols-outlined doc-icon">description</span>
                <div class="doc-text">
                    <p class="doc-name">Báo_cáo_AI_2026.pdf</p>
                    <span class="doc-time">10 phút trước</span>
                </div>
            </div>
            <button class="delete-btn" title="Xóa tài liệu">
                <span class="material-symbols-outlined">delete</span>
            </button>
        </div>

        <div class="document-item">
            <div class="doc-info">
                <span class="material-symbols-outlined doc-icon">description</span>
                <div class="doc-text">
                    <p class="doc-name">Đề_tài_NCKH.docx</p>
                    <span class="doc-time">Hôm nay · 08:32</span>
                </div>
            </div>
            <button class="delete-btn" title="Xóa tài liệu">
                <span class="material-symbols-outlined">delete</span>
            </button>
        </div>

        <!-- Thêm 3 document items mới -->
        <div class="document-item">
            <div class="doc-info">
                <span class="material-symbols-outlined doc-icon">description</span>
                <div class="doc-text">
                    <p class="doc-name">Thuyết_trình_Thiết_kế_UI.pptx</p>
                    <span class="doc-time">Hôm qua · 14:20</span>
                </div>
            </div>
            <button class="delete-btn" title="Xóa tài liệu">
                <span class="material-symbols-outlined">delete</span>
            </button>
        </div>

        <div class="document-item">
            <div class="doc-info">
                <span class="material-symbols-outlined doc-icon">description</span>
                <div class="doc-text">
                    <p class="doc-name">Hợp_đồng_Đối_tác_2024.pdf</p>
                    <span class="doc-time">2 ngày trước</span>
                </div>
            </div>
            <button class="delete-btn" title="Xóa tài liệu">
                <span class="material-symbols-outlined">delete</span>
            </button>
        </div>

        <div class="document-item">
            <div class="doc-info">
                <span class="material-symbols-outlined doc-icon">description</span>
                <div class="doc-text">
                    <p class="doc-name">Bảng_tính_Chi_phí.xlsx</p>
                    <span class="doc-time">3 ngày trước · 09:15</span>
                </div>
            </div>
            <button class="delete-btn" title="Xóa tài liệu">
                <span class="material-symbols-outlined">delete</span>
            </button>
        </div>
    </div>
</div>

 
                <!-- Footer -->
                <footer class="dashboard-footer">
                    <div class="footer-left">
                        <span>© 2026 HauHub • Hệ thống xử lý tài liệu AI</span>
                    </div>
                    <div class="footer-right">
                        <a href="#" class="footer-link">Hướng dẫn sử dụng</a>
                        <a href="#" class="footer-link">API Documentation</a>
                        <a href="#" class="footer-link">Chính sách bảo mật</a>
                    </div>
                </footer>
            </div>
        </main>
        
        <!-- Right Sidebar -->
        <aside class="dashboard-sidebar right-sidebar" id="system-monitor-sidebar">
            <div class="sidebar-header">
                <h3 class="sidebar-title">
                    <span class="material-symbols-outlined">analytics</span>
                    System Monitoring
                </h3>
            </div>
            
            <div class="sidebar-content">
                <!-- CPU Usage -->
                <div class="metric-card">
                    <div class="metric-header">
                        <span class="metric-label">CPU LOAD</span>
                        <span class="metric-value">42%</span>
                    </div>
                    <div class="metric-bar">
                        <div class="metric-progress cpu" style="width: 42%"></div>
                    </div>
                </div>
                
                <!-- RAM Usage -->
                <div class="metric-card">
                    <div class="metric-header">
                        <span class="metric-label">RAM USAGE</span>
                        <span class="metric-value">78%</span>
                    </div>
                    <div class="metric-bar">
                        <div class="metric-progress ram" style="width: 78%"></div>
                    </div>
                </div>
                
                <!-- Storage Usage -->
                <div class="metric-card">
                    <div class="metric-header">
                        <span class="metric-label">STORAGE</span>
                        <span class="metric-value">84%</span>
                    </div>
                    <div class="metric-bar">
                        <div class="metric-progress storage" style="width: 84%"></div>
                    </div>
                </div>
                
                <!-- Tip Card -->
                <div class="tip-card">
                    <div class="tip-header">
                        <span class="material-symbols-outlined">school</span>
                        <span class="tip-title">Mẹo Lưu trữ</span>
                    </div>
                    <p class="tip-content">
                        Để tối ưu hóa khả năng truy xuất, hãy chia nhỏ dữ liệu thành các phần con theo chủ đề trước khi xử lý.
                    </p>
                </div>
            </div>
        </aside>
    </div>

    <!-- Upload Modal -->
     <!-- Upload Modal -->
    <div class="modal" id="upload-modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3 class="modal-title">Tải lên Tài liệu</h3>
                <button class="modal-close" id="close-upload-modal">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
            
            <div class="modal-body">
                <div class="upload-zone modal-upload-zone" id="modal-upload-zone">
                    <div class="upload-icon">
                        <span class="material-symbols-outlined">cloud_upload</span>
                    </div>
                    <h3 class="upload-title">Kéo & Thả tệp tại đây</h3>
                    <p class="upload-description">
                        Hỗ trợ PDF, DWG, JSON, DOCX, TXT<br/>
                        <span class="upload-hint">Tối đa 50MB mỗi tệp</span>
                    </p>
                    <input type="file" id="modal-file-input" class="hidden" multiple accept=".pdf,.dwg,.json,.docx,.txt">
                    <label for="modal-file-input" class="btn-primary mt-4 cursor-pointer">
                        <span class="material-symbols-outlined">folder_open</span>
                        Duyệt tệp
                    </label>
                </div>


                <div class="upload-queue" id="upload-queue">
                    <!-- Upload queue will be populated here -->
                </div>
                    
                    <div class="setting-group full-width">
                        <label class="setting-label">Thẻ phân loại</label>
                        <input type="text" id="document-tags" class="form-input" placeholder="Nhập thẻ phân loại, cách nhau bằng dấu phẩy">
                    </div>
            
           <div class="modal-actions">
                <button class="btn-secondary" id="cancel-upload">Hủy bỏ</button>
                <button class="btn-primary" id="start-upload">
                    <span class="material-symbols-outlined">upload</span>
                    Bắt đầu tải lên
                </button>
            </div>
        </div>
    </div>

    <!-- Document Detail Modal -->
    <div class="modal" id="document-detail-modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3 class="modal-title">Chi tiết Tài liệu</h3>
                <button class="modal-close" id="close-detail-modal">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
            <div class="modal-body" id="document-detail-content">
                <!-- Document details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="../../js/components/modal.js"></script>
    <script src="../../js/components/notification.js"></script>
    <script src="../../js/services/ai-service.js"></script>
    <script src="./ai-documents.js"></script>


    <script>
// Inline script để đảm bảo hoạt động ngay
document.addEventListener('DOMContentLoaded', function() {
    // Xử lý nút tải lên
    const uploadBtn = document.getElementById('upload-document-btn');
    if (uploadBtn) {
        uploadBtn.addEventListener('click', function() {
            document.getElementById('upload-modal').classList.add('active');
            document.body.style.overflow = 'hidden';
        });
    }
    
    // Xử lý upload zone
    const uploadZone = document.getElementById('modal-upload-zone');
    const fileInput = document.getElementById('modal-file-input');
    
    if (uploadZone && fileInput) {
        uploadZone.addEventListener('click', function(e) {
            // Ngăn sự kiện click trên label
            if (!e.target.closest('label')) {
                fileInput.click();
            }
        });
    }
    
    // Xử lý đóng modal
    const closeBtn = document.getElementById('close-upload-modal');
    if (closeBtn) {
        closeBtn.addEventListener('click', function() {
            document.getElementById('upload-modal').classList.remove('active');
            document.body.style.overflow = '';
        });
    }
    
    // Xử lý cancel button
    const cancelBtn = document.getElementById('cancel-upload');
    if (cancelBtn) {
        cancelBtn.addEventListener('click', function() {
            document.getElementById('upload-modal').classList.remove('active');
            document.body.style.overflow = '';
        });
    }
});
</script>
</body>
</html>